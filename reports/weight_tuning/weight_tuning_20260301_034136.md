# Weight Tuning Report

- Generated at (UTC): 2026-03-01T03:41:36.351903+00:00
- Snapshot: `C:\Users\dedwa\OneDrive\Desktop\Dromund_Kass\ScholarshipCoach\data\processed\scholarships_snapshot_20260228.parquet`
- Snapshot records: 28
- Top-K: 10
- Configs evaluated: 150
- Seed argument: 0 (accepted for CLI parity; no randomness is used)
- Similarity mode: `embeddings`
- Label mode: `hybrid`
- TF-IDF relevance threshold: 0.1200
- Embeddings relevance threshold: 0.3000
- Active relevance threshold: 0.3000
- Calibration enabled: False
- Embedding model: `all-MiniLM-L6-v2`
- Use win model: True
- Win model path: `C:\Users\dedwa\OneDrive\Desktop\Dromund_Kass\ScholarshipCoach\data\processed\win_model\models\win_model_20260301_020510.joblib`
- Stage 3 ev field: `expected_value_norm`

## Baseline

- Config: `s2_t0.70_a0.20_k0.10_e0.10__s3_s0.80_u0.15_v0.05__log`
- NDCG@10: 0.2397
- Coverage@10: 0.1750
- Sponsor diversity@10: 0.0125
- Source diversity@10: 0.0125
- Median amount_max in top-10: 5000.00
- Eligibility rate: 0.7143
- Ranking stability: True

## Leaderboard (Top 20)

| Rank | Config ID | NDCG | Coverage | Sponsor Div | Source Div | Median Amount | Stable |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | `s2_t0.70_a0.05_k0.15_e0.05__s3_s0.95_u0.05_v0.00__log` | 0.4251 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 2 | `s2_t0.70_a0.05_k0.10_e0.05__s3_s0.95_u0.05_v0.00__log` | 0.4165 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 3 | `s2_t0.70_a0.05_k0.05_e0.05__s3_s0.95_u0.05_v0.00__log` | 0.3882 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 4 | `s2_t0.70_a0.10_k0.15_e0.05__s3_s0.95_u0.05_v0.00__log` | 0.3861 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 5 | `s2_t0.70_a0.10_k0.10_e0.05__s3_s0.95_u0.05_v0.00__log` | 0.3760 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 6 | `s2_t0.70_a0.05_k0.15_e0.05__s3_s0.90_u0.05_v0.05__log` | 0.3728 | 0.2125 | 0.0125 | 0.0125 | 5000.00 | True |
| 7 | `s2_t0.70_a0.10_k0.15_e0.05__s3_s0.90_u0.05_v0.05__log` | 0.3643 | 0.2125 | 0.0125 | 0.0125 | 5000.00 | True |
| 8 | `s2_t0.70_a0.05_k0.10_e0.05__s3_s0.90_u0.05_v0.05__log` | 0.3628 | 0.2125 | 0.0125 | 0.0125 | 5000.00 | True |
| 9 | `s2_t0.70_a0.05_k0.15_e0.10__s3_s0.95_u0.05_v0.00__log` | 0.3626 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 10 | `s2_t0.70_a0.10_k0.15_e0.05__s3_s0.85_u0.05_v0.10__log` | 0.3609 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 11 | `s2_t0.70_a0.10_k0.10_e0.05__s3_s0.90_u0.05_v0.05__log` | 0.3543 | 0.2125 | 0.0125 | 0.0125 | 5000.00 | True |
| 12 | `s2_t0.70_a0.05_k0.10_e0.10__s3_s0.95_u0.05_v0.00__log` | 0.3540 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 13 | `s2_t0.70_a0.10_k0.05_e0.05__s3_s0.95_u0.05_v0.00__log` | 0.3477 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 14 | `s2_t0.70_a0.05_k0.15_e0.05__s3_s0.85_u0.05_v0.10__log` | 0.3456 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 15 | `s2_t0.70_a0.05_k0.10_e0.05__s3_s0.85_u0.05_v0.10__log` | 0.3403 | 0.2000 | 0.0125 | 0.0125 | 5000.00 | True |
| 16 | `s2_t0.70_a0.05_k0.15_e0.15__s3_s0.95_u0.05_v0.00__log` | 0.3396 | 0.1750 | 0.0125 | 0.0125 | 5000.00 | True |
| 17 | `s2_t0.70_a0.05_k0.05_e0.05__s3_s0.90_u0.05_v0.05__log` | 0.3345 | 0.2125 | 0.0125 | 0.0125 | 5000.00 | True |
| 18 | `s2_t0.70_a0.05_k0.10_e0.15__s3_s0.95_u0.05_v0.00__log` | 0.3309 | 0.1750 | 0.0125 | 0.0125 | 5000.00 | True |
| 19 | `s2_t0.70_a0.10_k0.15_e0.10__s3_s0.85_u0.05_v0.10__log` | 0.3261 | 0.1875 | 0.0125 | 0.0125 | 5000.00 | True |
| 20 | `s2_t0.70_a0.10_k0.05_e0.05__s3_s0.90_u0.05_v0.05__log` | 0.3260 | 0.2125 | 0.0125 | 0.0125 | 5000.00 | True |

## Best Config

- Config: `s2_t0.70_a0.05_k0.15_e0.05__s3_s0.95_u0.05_v0.00__log`
- Stage 2 weights: `{"amount": 0.05, "effort": 0.05, "keyword": 0.15, "tfidf": 0.7}`
- Stage 3 weights: `{"ev": 0.0, "stage2": 0.95, "urgency": 0.05}`
- Amount utility mode: `log`
- NDCG@10: 0.4251
- Coverage@10: 0.2000
- Sponsor diversity@10: 0.0125
- Source diversity@10: 0.0125
- Median amount_max in top-10: 5000.00
- Eligibility rate: 0.7143
- Ranking stability: True

## Delta vs Baseline

- NDCG@10: +0.1854
- Coverage@10: +0.0250
- Sponsor diversity@10: +0.0000
- Source diversity@10: +0.0000
- Median amount_max in top-10: +0.0000
- Eligibility rate: +0.0000

## Notes

- Proxy relevance labels are heuristic labels from the existing golden harness, not human judgments.
- Evaluation uses a saved parquet snapshot only; this experiment never triggers live ingest.
- The selection objective is deterministic: NDCG@K, then coverage@K, then sponsor diversity@K, then lower amount-dominance penalty, then config ID.
- Next steps: inspect per-profile top-K IDs in the JSON artifact before promoting weights broadly.
